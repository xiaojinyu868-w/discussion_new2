# 需求文档: 内测版用户系统

## 介绍

内测版本，目标是快速验证产品核心功能。采用最简方案，全部本地化，无需云服务依赖。

### 设计原则
1. **极简**：只做必要功能
2. **本地化**：SQLite + 本地文件存储，无需安装数据库
3. **快速**：3天内可上线内测

---

## 需求

### 需求 1 - 用户注册与登录

**用户故事：** 作为内测用户，我希望能够注册账号并登录，以便保存我的会议记录。

#### 验收标准

1. When 用户访问平台时，系统应当显示登录/注册入口。
2. When 用户注册时，系统应当支持：
   - 用户名 + 密码注册（无需手机/邮箱验证）
3. When 用户登录成功后，系统应当生成 JWT Token。
4. When Token 过期时，系统应当要求重新登录。

---

### 需求 2 - 会议数据本地存储

**用户故事：** 作为用户，我希望我的会议记录能够保存下来，下次登录还能看到。

#### 验收标准

1. When 用户开始会议时，系统应当创建会议记录并关联用户。
2. When 转写内容产生时，系统应当保存到本地数据库。
3. When 用户生成图片时，系统应当保存到本地 `uploads/` 目录。
4. When 用户查看历史会议时，系统应当展示会议列表。

---

### 需求 3 - 简单配额管理

**用户故事：** 作为平台方，我需要限制资源使用，控制内测成本。

#### 验收标准

1. **内测用户配额**：
   - 语音转录：无限制
   - AI 洞察：每日 50 次
   - 图片生成：每月 5 次
   - 会议问答：每日 100 次

2. When 用户配额不足时，系统应当显示提示。
3. When 每日/每月重置时间到达时，系统应当自动重置配额。

---

### 需求 4 - 简单个人中心

**用户故事：** 作为用户，我希望能查看我的会议历史和配额状态。

#### 验收标准

1. When 用户点击个人中心时，系统应当显示：
   - 用户名
   - 配额使用情况
   - 会议历史列表
2. When 用户点击某个会议时，系统应当显示会议详情。

---

## 技术选型（极简版）

| 组件 | 选型 | 说明 |
|------|------|------|
| 数据库 | SQLite | 无需安装，文件即数据库 |
| 文件存储 | 本地 `uploads/` | 图片直接存本地 |
| 认证 | JWT | 简单 Token 认证 |
| 密码 | bcrypt | 安全加密 |

---

## 成本估算（内测）

| 功能 | 单次成本 | 内测用户月成本 |
|------|----------|----------------|
| 语音转录 | ¥0.01/分钟 | ~¥6（10小时） |
| AI 洞察 | ¥0.002/次 | ~¥3（1500次） |
| 图片生成 | ¥1/张 | ¥5（5张） |
| **合计** | - | **~¥14/用户** |

内测 10 人，月成本约 ¥140。
